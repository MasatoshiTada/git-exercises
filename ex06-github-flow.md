演習6 GitHub flow
===================================

この演習では、GitHub flowによるチーム開発を体験します。

この演習はチーム（1チーム3〜5名）で行ってください。各チームごとに、プルリクエストのマージを担当するリーダーを決めてください。併せて、各メンバー（リーダーも含む）に1から始まる連番を割り振ってください。

> 以下の説明では、各メンバーの番号を `N` で表します。適宜、 `N` を自分の番号に読み替えてください。

各メンバーがフィーチャーブランチを作成して、リーダーが `main` にマージ後、リモートリポジトリの最新状態を各メンバーがローカルリポジトリに反映するまでの流れを学習します。

# 1. ブランチ・ファイル・プルリクエストの作成（リーダーを含む全メンバーの作業）
(1) ターミナルを起動し、適当なフォルダで次のコマンドを実行してください。リモートリポジトリがローカルにクローンされます。

```bash
$ git clone https://github.com/組織名/チーム名
```

(2) 次のコマンドで、クローン時に作成された自チームのプロジェクトのフォルダに移動してください。

```bash
$ cd チーム名
```

(3) 次のコマンドで `add-N` という名前のブランチを作成・移動してください。

```bash
$ git branch add-N
$ git switch add-N
```

(4) クローンしたフォルダ内に `N.txt` を作成してください。ファイルの中身は空のままにしてください。

(5) 次のコマンドでステージングとコミットを行ってください。

```bash
$ git add N.txt
$ git commit -m "N.txtの作成"
```

(6) 次のコマンドで、自分のブランチをリモートリポジトリに作成・プッシュしてください。

```bash
$ git push origin add-N
```

(7) ブラウザで https://github.com/組織名/チーム名 にアクセスしてください。

(8) 画面上側のメニューにある[Pull requests]をクリックしてください。

> 画面上側に[Compare & pull request]という緑色のボタンがある場合は、これをクリックしてください。この場合は(3)と(4)の手順は飛ばされます。

(9) [New pull request]をクリックしてください。

(10) [base]で「main」、[compare]で「add-N」を選択後、[Create pull request]をクリックしてください。

(11) [Open a pull request]画面で、各項目に次のように記入してください。

- [Title]に「機能Nの追加」
- [Leave a comment]に「N.txtの作成」

記入できたら[Create pull request]をクリックしてください。

# 2. プルリクエストのレビュー（リーダーのみの作業）
(1) チームメンバー全員のプルリクエストの[Leave a comment]に「「こんにちは」と記入してください」と記入して、[Comment]をクリックしてください。

> [Close with comment]をクリックすると、プルリクエスト自体がクローズされてしまいますので、絶対にクリックしないでください。

(2) 全員のプルリクエストをレビューが終わったら、その旨を全メンバーに伝えてください。

# 3. レビューでの指摘事項の作業の反映（リーダーを含む全メンバーの作業）
(1) 作成したN.txtをエディタで開いて、「こんにちは」と記入してください。記入後は保存して、エディタを閉じてください。

(2) 次のコマンドでステージングとコミットを行ってください。

```bash
$ git add N.txt
$ git commit -m "あいさつを記入"
```

(3) 次のコマンドで、自分のブランチをリモートリポジトリに作成・プッシュしてください。

```bash
$ git push origin add-N
```

# 4. プルリクエストの再レビューとマージ（リーダーのみの作業）
(1) 各メンバーのプルリクエストの画面を開いて、画面上側のメニューにある[File changed]を開く→N.txtに「こんにちは」と記入されていることが確認できたら、プルリクエストをマージしてください（マージ後は、そのブランチは削除してください）。

> もし「こんにちは」が正しく記入されていなかった場合は、再レビューする旨をそのメンバーに伝えてください。

(2) 全員のプルリクエストをレビューが終わったら、その旨を全メンバーに伝えてください。

# 5. マージされた他メンバーの作業の反映（リーダーを含む全メンバーの作業）
(1) 全てのプルリクエストがマージされたら、次のコマンドでフェッチしてください。

```bash
$ git fetch
```

(2) 次のコマンドで、 `main` ブランチに移動してください。

```bash
$ git switch main
```

(3) 次のコマンドで、 `main` に `origin/main` をマージしてください。

```bash
$ git merge origin/main
```

(4) フォルダに全メンバーが作成したファイルが存在し、かつ全てのファイルに「こんにちは」と記入されていることを確認してください。

(5) 次のコマンドで `add-N` ブランチを削除してください。

```bash
$ git branch -D add-N
```
